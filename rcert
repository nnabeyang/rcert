#!/usr/bin/ruby1.9.1
# -*- encoding: utf-8 -*-
$: << File.expand_path('..', __FILE__)
require 'rcert'
Rcert.application.run do|p|
  p.prepare
  print p.render
  while line = STDIN.gets
    case line
    when /\A(\d\s*)+/
      break
    when "s\n", "score\n"
      Rcert.application.status
    when "r\n", "render\n"
      print p.render
    when "q\n", "quit\n"
      Rcert.application.status
      exit
    end
  end
  /\A\s*((\d\s*)+)/ =~ line 
  p.select(*($1.split.map {|e| e.to_i}))
end
Rcert.application.report_result
Rcert.application.status
